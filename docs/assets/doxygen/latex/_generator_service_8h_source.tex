\hypertarget{_generator_service_8h_source}{}\doxysection{Generator\+Service.\+h}
\label{_generator_service_8h_source}\index{/Users/pawel/projects/epic/NEW2/epic/include/services/GeneratorService.h@{/Users/pawel/projects/epic/NEW2/epic/include/services/GeneratorService.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{ * GeneratorService.h}}
\DoxyCodeLine{3 \textcolor{comment}{ *}}
\DoxyCodeLine{4 \textcolor{comment}{ *  Created on: Feb 8, 2021}}
\DoxyCodeLine{5 \textcolor{comment}{ *      Author: Pawel Sznajder (NCBJ)}}
\DoxyCodeLine{6 \textcolor{comment}{ */}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#ifndef SERVICES\_GENERATORSERVICE\_H\_}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#define SERVICES\_GENERATORSERVICE\_H\_}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <ElementaryUtils/logger/CustomException.h>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <ElementaryUtils/string\_utils/Formatter.h>}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <ElementaryUtils/string\_utils/StringUtils.h>}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <partons/beans/automation/BaseObjectData.h>}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <ctime>}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include <chrono>}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include <TFile.h>}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include <TH1.h>}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include <TH2.h>}}
\DoxyCodeLine{22 }
\DoxyCodeLine{23 \textcolor{preprocessor}{\#include "{}../automation/MonteCarloTask.h"{}}}
\DoxyCodeLine{24 \textcolor{preprocessor}{\#include "{}../beans/containers/ExperimentalConditions.h"{}}}
\DoxyCodeLine{25 \textcolor{preprocessor}{\#include "{}../beans/containers/GeneralConfiguration.h"{}}}
\DoxyCodeLine{26 \textcolor{preprocessor}{\#include "{}../beans/containers/GenerationInformation.h"{}}}
\DoxyCodeLine{27 \textcolor{preprocessor}{\#include "{}../beans/other/EventGeneratorInterface.h"{}}}
\DoxyCodeLine{28 \textcolor{preprocessor}{\#include "{}../Epic.h"{}}}
\DoxyCodeLine{29 \textcolor{preprocessor}{\#include "{}../EpicVersion.h"{}}}
\DoxyCodeLine{30 \textcolor{preprocessor}{\#include "{}../managers/ModuleObjectFactory.h"{}}}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#include "{}../modules/event\_generator/EventGeneratorModule.h"{}}}
\DoxyCodeLine{32 \textcolor{preprocessor}{\#include "{}../modules/writer/WriterModule.h"{}}}
\DoxyCodeLine{33 \textcolor{preprocessor}{\#include "{}../modules/random\_generator/RandomNumberGSL.h"{}}}
\DoxyCodeLine{34 }
\DoxyCodeLine{35 \textcolor{keyword}{namespace }EPIC \{}
\DoxyCodeLine{36 }
\DoxyCodeLine{44 \textcolor{keyword}{template}<\textcolor{keyword}{class }kinRange, \textcolor{keyword}{class }procModule, \textcolor{keyword}{class }kinModule,}
\DoxyCodeLine{45         \textcolor{keyword}{class }rcModule>}
\DoxyCodeLine{46 \textcolor{keyword}{class }\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service}{GeneratorService}}: \textcolor{keyword}{public} PARTONS::BaseObject,}
\DoxyCodeLine{47         \textcolor{keyword}{public} \mbox{\hyperlink{class_e_p_i_c_1_1_event_generator_interface}{EventGeneratorInterface}} \{}
\DoxyCodeLine{48 }
\DoxyCodeLine{49 \textcolor{keyword}{public}:}
\DoxyCodeLine{53     \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a5a1c72705364a8107d7b8f24e25f4c56}{GeneratorService}}(\textcolor{keyword}{const} std::string \&className) :}
\DoxyCodeLine{54             PARTONS::BaseObject(className), \mbox{\hyperlink{class_e_p_i_c_1_1_event_generator_interface}{EventGeneratorInterface}}(), \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a92f142b5b05f64e1bf87c20c6c5acafb}{m\_pProcessModule}}(}
\DoxyCodeLine{55                     nullptr), \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a9143ff548a6a3a91ba43a6878214c311}{m\_pEventGeneratorModule}}(nullptr), \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aacb4f5d3d39f33616fc0143b78b7f482}{m\_pKinematicModule}}(}
\DoxyCodeLine{56                     nullptr), \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aa7c8dfacd445e7f2e7a6a3a04e10b37e}{m\_pRCModule}}(nullptr), \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a5a43a2475f3655ecbd3a892a5a65d58f}{m\_pWriterModule}}(nullptr), \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a69169bfa9dc615b3db64d45483fa3ab4}{m\_histogramFile}}(}
\DoxyCodeLine{57                     nullptr) \{}
\DoxyCodeLine{58         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_af349146ccb69d9d3d63cd3359afdcd41}{m\_randomNumberModule}} =}
\DoxyCodeLine{59                 \mbox{\hyperlink{class_e_p_i_c_1_1_epic_aee434d279b13aad381d2ba07d0504d89}{Epic::getInstance}}()-\/>\mbox{\hyperlink{class_e_p_i_c_1_1_epic_aafba8caa1658a3683544d9c2fe7d1118}{getModuleObjectFactory}}()-\/>\mbox{\hyperlink{class_e_p_i_c_1_1_module_object_factory_a375a03077fb3ed17926d7b3bed36aaf9}{newRandomNumberModule}}(}
\DoxyCodeLine{60                         \mbox{\hyperlink{class_e_p_i_c_1_1_random_number_g_s_l_a2fe28ae9f756d63d3712931e61482301}{RandomNumberGSL::classId}});}
\DoxyCodeLine{61     \}}
\DoxyCodeLine{62 }
\DoxyCodeLine{66     \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a4d909cdd2f1c6bc02a702b475ed43031}{GeneratorService}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service}{GeneratorService}} \&other) :}
\DoxyCodeLine{67             PARTONS::BaseObject(other), \mbox{\hyperlink{class_e_p_i_c_1_1_event_generator_interface}{EventGeneratorInterface}}(other), \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a92f142b5b05f64e1bf87c20c6c5acafb}{m\_pProcessModule}}(}
\DoxyCodeLine{68                     other.\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a92f142b5b05f64e1bf87c20c6c5acafb}{m\_pProcessModule}}), \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a9143ff548a6a3a91ba43a6878214c311}{m\_pEventGeneratorModule}}(}
\DoxyCodeLine{69                     other.\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a9143ff548a6a3a91ba43a6878214c311}{m\_pEventGeneratorModule}}), \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aacb4f5d3d39f33616fc0143b78b7f482}{m\_pKinematicModule}}(}
\DoxyCodeLine{70                     other.\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aacb4f5d3d39f33616fc0143b78b7f482}{m\_pKinematicModule}}), \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aa7c8dfacd445e7f2e7a6a3a04e10b37e}{m\_pRCModule}}(other.\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aa7c8dfacd445e7f2e7a6a3a04e10b37e}{m\_pRCModule}}), \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a5a43a2475f3655ecbd3a892a5a65d58f}{m\_pWriterModule}}(}
\DoxyCodeLine{71                     other.\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a5a43a2475f3655ecbd3a892a5a65d58f}{m\_pWriterModule}}) \{}
\DoxyCodeLine{72 }
\DoxyCodeLine{73         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a270361cfb1c499912f0d1b348522d785}{m\_generalConfiguration}} = other.\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a270361cfb1c499912f0d1b348522d785}{m\_generalConfiguration}};}
\DoxyCodeLine{74         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a72ca66df13cdbda2486e19ddc2539d74}{m\_kinematicRanges}} = other.\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a72ca66df13cdbda2486e19ddc2539d74}{m\_kinematicRanges}};}
\DoxyCodeLine{75         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aac4cb487af2b229007929ff59756ae2c}{m\_experimentalConditions}} = other.\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aac4cb487af2b229007929ff59756ae2c}{m\_experimentalConditions}};}
\DoxyCodeLine{76 }
\DoxyCodeLine{77         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_ac688443b6e0c243049dfbac439639b83}{m\_debugTimeInitialization}} = other.\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_ac688443b6e0c243049dfbac439639b83}{m\_debugTimeInitialization}};}
\DoxyCodeLine{78         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a11b6e7af6bde060c486010675f1092f6}{m\_debugTimeGeneration}} = other.\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a11b6e7af6bde060c486010675f1092f6}{m\_debugTimeGeneration}};}
\DoxyCodeLine{79 }
\DoxyCodeLine{80         \textcolor{keywordflow}{if} (other.\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_af349146ccb69d9d3d63cd3359afdcd41}{m\_randomNumberModule}} == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{81             \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_af349146ccb69d9d3d63cd3359afdcd41}{m\_randomNumberModule}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{82         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{83             \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_af349146ccb69d9d3d63cd3359afdcd41}{m\_randomNumberModule}} = std::make\_shared<RandomNumberGSL>(}
\DoxyCodeLine{84                     \mbox{\hyperlink{class_e_p_i_c_1_1_random_number_g_s_l}{RandomNumberGSL}}(}
\DoxyCodeLine{85                             *(std::static\_pointer\_cast<RandomNumberGSL>(}
\DoxyCodeLine{86                                     other.\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_af349146ccb69d9d3d63cd3359afdcd41}{m\_randomNumberModule}}))));}
\DoxyCodeLine{87         \}}
\DoxyCodeLine{88 }
\DoxyCodeLine{89         \textcolor{keywordflow}{if} (other.\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a69169bfa9dc615b3db64d45483fa3ab4}{m\_histogramFile}} == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{90             \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a69169bfa9dc615b3db64d45483fa3ab4}{m\_histogramFile}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{91         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{92             \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a69169bfa9dc615b3db64d45483fa3ab4}{m\_histogramFile}} = TFile::Open(other.\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a69169bfa9dc615b3db64d45483fa3ab4}{m\_histogramFile}}-\/>GetName(),}
\DoxyCodeLine{93                     \textcolor{stringliteral}{"{}RECREATE"{}}, \textcolor{stringliteral}{"{}EpIC debugging histograms"{}});}
\DoxyCodeLine{94         \}}
\DoxyCodeLine{95     \}}
\DoxyCodeLine{96 }
\DoxyCodeLine{97     \textcolor{keyword}{virtual} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service}{GeneratorService}} *clone() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{98 }
\DoxyCodeLine{102     \textcolor{keyword}{virtual} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a53cb1700efd3f612deeac85a81be170c}{\string~GeneratorService}}() \{}
\DoxyCodeLine{103     \}}
\DoxyCodeLine{104 }
\DoxyCodeLine{108     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a7054551bb087ec059c274f53de25002f}{computeTask}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_e_p_i_c_1_1_monte_carlo_task}{MonteCarloTask}} \&task) \{}
\DoxyCodeLine{109 }
\DoxyCodeLine{110         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a61a9d28e8edc27f87c3b61e28bef8344}{getGeneralConfigurationFromTask}}(task);}
\DoxyCodeLine{111         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_ad030d64e93c783c94aa38d55b58c8b8b}{getAdditionalGeneralConfigurationFromTask}}(task);}
\DoxyCodeLine{112         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a897a5c66c3d2aad34a211c9f413bc0e9}{getExperimentalConditionsFromTask}}(task);}
\DoxyCodeLine{113         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a99e1741c3c9c28fe9951a169dbb60e3c}{getKinematicRangesFromTask}}(task);}
\DoxyCodeLine{114         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a8f0bb968f1a0dbf7200e9e40aacb9e74}{getProcessModuleFromTask}}(task);}
\DoxyCodeLine{115         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_ad1d0943b7f4074db2495daa281744f60}{getEventGeneratorModuleFromTask}}(task);}
\DoxyCodeLine{116         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_ab51031db717e218467996e5cb0162530}{getKinematicModuleFromTask}}(task);}
\DoxyCodeLine{117         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_ab6906406a76a2156e4f5466ce04a8100}{getRCModuleFromTask}}(task);}
\DoxyCodeLine{118         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a5a64afcd9e6ce6cad8b7f1431f305673}{getWriterModuleFromTask}}(task);}
\DoxyCodeLine{119 }
\DoxyCodeLine{120         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a5fd4ede29e72ea090c43051c744996f2}{openHistogramFile}}();}
\DoxyCodeLine{121 }
\DoxyCodeLine{122         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a08e2461bab7f40d8a21d8e5fc6d79fb6}{run}}();}
\DoxyCodeLine{123 }
\DoxyCodeLine{124         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_afde43d52eb827364d87b4653f5ab97e3}{closeHistogramFile}}();}
\DoxyCodeLine{125     \}}
\DoxyCodeLine{126 }
\DoxyCodeLine{130     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a08e2461bab7f40d8a21d8e5fc6d79fb6}{run}}() = 0;}
\DoxyCodeLine{131 }
\DoxyCodeLine{135     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aa860c2879f60fcb792d4a0974895c265}{printAndSaveGenerationConfiguration}}() \{}
\DoxyCodeLine{136 }
\DoxyCodeLine{137         \mbox{\hyperlink{class_e_p_i_c_1_1_generation_information}{GenerationInformation}} generationInformation;}
\DoxyCodeLine{138 }
\DoxyCodeLine{139         generationInformation.\mbox{\hyperlink{class_e_p_i_c_1_1_generation_information_a4b1d77316f76edfd9773818bf24b5b1d}{setGeneratorName}}(\textcolor{stringliteral}{"{}EPIC"{}});}
\DoxyCodeLine{140         generationInformation.\mbox{\hyperlink{class_e_p_i_c_1_1_generation_information_aa80619a4447dbb65bf3777f07d6c3716}{setGeneratorVersion}}(}
\DoxyCodeLine{141                 ElemUtils::Formatter() << EPIC\_VERSION\_MAJOR << \textcolor{stringliteral}{"{}."{}}}
\DoxyCodeLine{142                 << EPIC\_VERSION\_MINOR << \textcolor{stringliteral}{"{}."{}} << EPIC\_VERSION\_PATCH);}
\DoxyCodeLine{143         generationInformation.\mbox{\hyperlink{class_e_p_i_c_1_1_generation_information_abeb98f9e6a40766ba786f83bc46febc1}{setDescription}}(}
\DoxyCodeLine{144                 \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_adf0e6c2c821a4d61fd8a28803bce913b}{m\_scenarioDate}} + \textcolor{stringliteral}{"{} | "{}} + \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a8f2084591f5446a4a6337fbae76e7c4e}{m\_scenarioDescription}});}
\DoxyCodeLine{145 }
\DoxyCodeLine{146         generationInformation.\mbox{\hyperlink{class_e_p_i_c_1_1_generation_information_a745938089bde4bb157bffc1acbdff5db}{setServiceName}}(getClassName());}
\DoxyCodeLine{147         generationInformation.\mbox{\hyperlink{class_e_p_i_c_1_1_generation_information_a03e61cf8bc622d42ce8ae938f18e544f}{setNEvents}}(\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a270361cfb1c499912f0d1b348522d785}{m\_generalConfiguration}}.\mbox{\hyperlink{class_e_p_i_c_1_1_general_configuration_a8585b9978ce7762b4d7028676fe9c22c}{getNEvents}}());}
\DoxyCodeLine{148         generationInformation.\mbox{\hyperlink{class_e_p_i_c_1_1_generation_information_acc58789e1118b22e94fd57926fbb71e7}{setIntegratedCrossSection}}(}
\DoxyCodeLine{149                 \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a9143ff548a6a3a91ba43a6878214c311}{m\_pEventGeneratorModule}}-\/>getIntegral());}
\DoxyCodeLine{150         generationInformation.\mbox{\hyperlink{class_e_p_i_c_1_1_generation_information_a49ac66576c0e374806a789415418b49d}{setGenerationDate}}(\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a8e05f767f64e96453ab0e8b1150fbcb1}{getCurrentDate}}());}
\DoxyCodeLine{151 }
\DoxyCodeLine{152         generationInformation.\mbox{\hyperlink{class_e_p_i_c_1_1_generation_information_a077ecd459e9051ddf8c9969f082b0a70}{setInitializationTime}}(}
\DoxyCodeLine{153                 1.E-\/6}
\DoxyCodeLine{154                         * std::chrono::duration\_cast<std::chrono::microseconds>(}
\DoxyCodeLine{155                                 \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_ac688443b6e0c243049dfbac439639b83}{m\_debugTimeInitialization}}.second}
\DoxyCodeLine{156                                         -\/ \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_ac688443b6e0c243049dfbac439639b83}{m\_debugTimeInitialization}}.first).count());}
\DoxyCodeLine{157         generationInformation.\mbox{\hyperlink{class_e_p_i_c_1_1_generation_information_a08b56ad69aa99d6f3e479eb1a04d6b80}{setGenerationTime}}(}
\DoxyCodeLine{158                 1.E-\/6}
\DoxyCodeLine{159                         * std::chrono::duration\_cast<std::chrono::microseconds>(}
\DoxyCodeLine{160                                 \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a11b6e7af6bde060c486010675f1092f6}{m\_debugTimeGeneration}}.second}
\DoxyCodeLine{161                                         -\/ \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a11b6e7af6bde060c486010675f1092f6}{m\_debugTimeGeneration}}.first).count());}
\DoxyCodeLine{162 }
\DoxyCodeLine{163         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a05eba661f06916fe9ecca50611f61007}{addAdditionalGenerationConfiguration}}(generationInformation);}
\DoxyCodeLine{164 }
\DoxyCodeLine{165         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a5a43a2475f3655ecbd3a892a5a65d58f}{m\_pWriterModule}}-\/>saveGenerationInformation(generationInformation);}
\DoxyCodeLine{166 }
\DoxyCodeLine{167         info(\_\_func\_\_,}
\DoxyCodeLine{168                 ElemUtils::Formatter() << \textcolor{stringliteral}{"{}Generation information:\(\backslash\)n"{}}}
\DoxyCodeLine{169                         << generationInformation.toString() << \textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{170     \}}
\DoxyCodeLine{171 }
\DoxyCodeLine{175     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a05eba661f06916fe9ecca50611f61007}{addAdditionalGenerationConfiguration}}(}
\DoxyCodeLine{176             \mbox{\hyperlink{class_e_p_i_c_1_1_generation_information}{GenerationInformation}}\& generationInformation) \{}
\DoxyCodeLine{177 }
\DoxyCodeLine{178         std::stringstream ss;}
\DoxyCodeLine{179 }
\DoxyCodeLine{180         ss << \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aac4cb487af2b229007929ff59756ae2c}{m\_experimentalConditions}}.\mbox{\hyperlink{class_e_p_i_c_1_1_experimental_conditions_a18eb6b02e70537b4faddab8e22b0a84c}{getLeptonHelicity}}();}
\DoxyCodeLine{181         generationInformation.\mbox{\hyperlink{class_e_p_i_c_1_1_generation_information_a48ed9b8a0cd7156121f01a5237d27095}{addAdditionalInfo}}(}
\DoxyCodeLine{182                 std::make\_pair(\textcolor{stringliteral}{"{}lepton\_polarisation"{}}, ss.str()));}
\DoxyCodeLine{183 }
\DoxyCodeLine{184         ss.str(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{185         ss.clear();}
\DoxyCodeLine{186         ss << \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aac4cb487af2b229007929ff59756ae2c}{m\_experimentalConditions}}.\mbox{\hyperlink{class_e_p_i_c_1_1_experimental_conditions_ac379ce97c7471d9d1fda63569492c6b2}{getHadronPolarisation}}().getX() << \textcolor{charliteral}{'|'}}
\DoxyCodeLine{187                 << \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aac4cb487af2b229007929ff59756ae2c}{m\_experimentalConditions}}.\mbox{\hyperlink{class_e_p_i_c_1_1_experimental_conditions_ac379ce97c7471d9d1fda63569492c6b2}{getHadronPolarisation}}().getY()}
\DoxyCodeLine{188                 << \textcolor{charliteral}{'|'}}
\DoxyCodeLine{189                 << \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aac4cb487af2b229007929ff59756ae2c}{m\_experimentalConditions}}.\mbox{\hyperlink{class_e_p_i_c_1_1_experimental_conditions_ac379ce97c7471d9d1fda63569492c6b2}{getHadronPolarisation}}().getZ();}
\DoxyCodeLine{190         generationInformation.\mbox{\hyperlink{class_e_p_i_c_1_1_generation_information_a48ed9b8a0cd7156121f01a5237d27095}{addAdditionalInfo}}(}
\DoxyCodeLine{191                 std::make\_pair(\textcolor{stringliteral}{"{}hadron\_polarisation"{}}, ss.str()));}
\DoxyCodeLine{192     \}}
\DoxyCodeLine{193 }
\DoxyCodeLine{194     \textcolor{comment}{//********************************************************}}
\DoxyCodeLine{195     \textcolor{comment}{//*** SETTERS AND GETTERS ********************************}}
\DoxyCodeLine{196     \textcolor{comment}{//********************************************************}}
\DoxyCodeLine{197 }
\DoxyCodeLine{201     \textcolor{keyword}{const} \mbox{\hyperlink{class_e_p_i_c_1_1_general_configuration}{GeneralConfiguration}} \&\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_ae3ec95e3d4092c6f6ebd6333ebf61fea}{getGeneralConfiguration}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{202         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a270361cfb1c499912f0d1b348522d785}{m\_generalConfiguration}};}
\DoxyCodeLine{203     \}}
\DoxyCodeLine{204 }
\DoxyCodeLine{208     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a7e2f486a23adc379c1a2fd1b03976e18}{setGeneralConfiguration}}(}
\DoxyCodeLine{209             \textcolor{keyword}{const} \mbox{\hyperlink{class_e_p_i_c_1_1_general_configuration}{GeneralConfiguration}} \&generalConfiguration) \{}
\DoxyCodeLine{210         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a270361cfb1c499912f0d1b348522d785}{m\_generalConfiguration}} = generalConfiguration;}
\DoxyCodeLine{211     \}}
\DoxyCodeLine{212 }
\DoxyCodeLine{216     \textcolor{keyword}{const} kinRange \&\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_af9128e57dc68859a5bc946781d838b5e}{getKinematicRanges}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{217         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a72ca66df13cdbda2486e19ddc2539d74}{m\_kinematicRanges}};}
\DoxyCodeLine{218     \}}
\DoxyCodeLine{219 }
\DoxyCodeLine{223     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aa30cab04aa484c6e5d00defceff9a271}{setKinematicRanges}}(\textcolor{keyword}{const} kinRange \&kinematicRanges) \{}
\DoxyCodeLine{224         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a72ca66df13cdbda2486e19ddc2539d74}{m\_kinematicRanges}} = kinematicRanges;}
\DoxyCodeLine{225     \}}
\DoxyCodeLine{226 }
\DoxyCodeLine{230     \textcolor{keyword}{const} \mbox{\hyperlink{class_e_p_i_c_1_1_experimental_conditions}{ExperimentalConditions}} \&\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_adf964efa086781699b88a47acba5e061}{getExperimentalConditions}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{231         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aac4cb487af2b229007929ff59756ae2c}{m\_experimentalConditions}};}
\DoxyCodeLine{232     \}}
\DoxyCodeLine{233 }
\DoxyCodeLine{237     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_ab68f46385a8010dd6fbfe0c69208be3e}{setExperimentalConditions}}(}
\DoxyCodeLine{238             \textcolor{keyword}{const} \mbox{\hyperlink{class_e_p_i_c_1_1_experimental_conditions}{ExperimentalConditions}} \&experimentalConditions) \{}
\DoxyCodeLine{239         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aac4cb487af2b229007929ff59756ae2c}{m\_experimentalConditions}} = experimentalConditions;}
\DoxyCodeLine{240     \}}
\DoxyCodeLine{241 }
\DoxyCodeLine{246     procModule *\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a62885d59ee9a0a29f7a2a686e1b23bc9}{getProcessModule}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{247         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a92f142b5b05f64e1bf87c20c6c5acafb}{m\_pProcessModule}};}
\DoxyCodeLine{248     \}}
\DoxyCodeLine{249 }
\DoxyCodeLine{253     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a22954fca6f6aa751ca2b09a339f9dc15}{setProcessModule}}(procModule *processModule) \{}
\DoxyCodeLine{254         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a92f142b5b05f64e1bf87c20c6c5acafb}{m\_pProcessModule}} = processModule;}
\DoxyCodeLine{255     \}}
\DoxyCodeLine{256 }
\DoxyCodeLine{260     \textcolor{keyword}{const} std::shared\_ptr<EventGeneratorModule> \&\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a8799b147c6c46a463c9d680e06c67695}{getEventGeneratorModule}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{261         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a9143ff548a6a3a91ba43a6878214c311}{m\_pEventGeneratorModule}};}
\DoxyCodeLine{262     \}}
\DoxyCodeLine{263 }
\DoxyCodeLine{267     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aeabe2becbeedfc578500413fed103e6f}{setEventGeneratorModule}}(}
\DoxyCodeLine{268             \textcolor{keyword}{const} std::shared\_ptr<EventGeneratorModule> \&pEventGeneratorModule) \{}
\DoxyCodeLine{269         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a9143ff548a6a3a91ba43a6878214c311}{m\_pEventGeneratorModule}} = pEventGeneratorModule;}
\DoxyCodeLine{270     \}}
\DoxyCodeLine{271 }
\DoxyCodeLine{275     \textcolor{keyword}{const} std::shared\_ptr<kinModule> \&\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a14afac1d4527091f41900dc0e206b24c}{getKinematicModule}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{276         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aacb4f5d3d39f33616fc0143b78b7f482}{m\_pKinematicModule}};}
\DoxyCodeLine{277     \}}
\DoxyCodeLine{278 }
\DoxyCodeLine{282     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_ac2e038726753909abec40e3e0699f391}{setKinematicModule}}(}
\DoxyCodeLine{283             \textcolor{keyword}{const} std::shared\_ptr<kinModule> \&pKinematicModule) \{}
\DoxyCodeLine{284         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aacb4f5d3d39f33616fc0143b78b7f482}{m\_pKinematicModule}} = pKinematicModule;}
\DoxyCodeLine{285     \}}
\DoxyCodeLine{286 }
\DoxyCodeLine{290     \textcolor{keyword}{const} std::shared\_ptr<rcModule> \&\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a07dc4c6e3e68dbe4086f01cb4ff9e8da}{getRCModule}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{291         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aa7c8dfacd445e7f2e7a6a3a04e10b37e}{m\_pRCModule}};}
\DoxyCodeLine{292     \}}
\DoxyCodeLine{293 }
\DoxyCodeLine{297     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a4cd8d5a6ae8319390a5249cdfb039dc9}{setRCModule}}(\textcolor{keyword}{const} std::shared\_ptr<rcModule> \&pRCModule) \{}
\DoxyCodeLine{298         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aa7c8dfacd445e7f2e7a6a3a04e10b37e}{m\_pRCModule}} = pRCModule;}
\DoxyCodeLine{299     \}}
\DoxyCodeLine{300 }
\DoxyCodeLine{304     \textcolor{keyword}{const} std::shared\_ptr<WriterModule> \&\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a683a7c38f97467bef00ca648a4e2c952}{getWriterModule}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{305         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a5a43a2475f3655ecbd3a892a5a65d58f}{m\_pWriterModule}};}
\DoxyCodeLine{306     \}}
\DoxyCodeLine{307 }
\DoxyCodeLine{311     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_ace8bc7f50a06cf4ca638a663768a680c}{setWriterModule}}(\textcolor{keyword}{const} std::shared\_ptr<WriterModule> \&pWriterModule) \{}
\DoxyCodeLine{312         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a5a43a2475f3655ecbd3a892a5a65d58f}{m\_pWriterModule}} = pWriterModule;}
\DoxyCodeLine{313     \}}
\DoxyCodeLine{314 }
\DoxyCodeLine{318     \textcolor{keyword}{const} std::string\& \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aec80966280f69cbc87b1c017855a409b}{getScenarioDescription}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{319         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a8f2084591f5446a4a6337fbae76e7c4e}{m\_scenarioDescription}};}
\DoxyCodeLine{320     \}}
\DoxyCodeLine{321 }
\DoxyCodeLine{325     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a93999506ab6db94e5ee5e2ad42b3c114}{setScenarioDescription}}(\textcolor{keyword}{const} std::string\& scenarioDescription) \{}
\DoxyCodeLine{326         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a8f2084591f5446a4a6337fbae76e7c4e}{m\_scenarioDescription}} = scenarioDescription;}
\DoxyCodeLine{327     \}}
\DoxyCodeLine{328 }
\DoxyCodeLine{332     \textcolor{keyword}{const} std::string\& \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a4fed23968adb54cfe30e59b2c70f6614}{getScenarioDate}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{333         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_adf0e6c2c821a4d61fd8a28803bce913b}{m\_scenarioDate}};}
\DoxyCodeLine{334     \}}
\DoxyCodeLine{335 }
\DoxyCodeLine{339     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a2f4a267ee1146f807d9bf984e49e2bdf}{setScenarioDate}}(\textcolor{keyword}{const} std::string\& scenarioDate) \{}
\DoxyCodeLine{340         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_adf0e6c2c821a4d61fd8a28803bce913b}{m\_scenarioDate}} = scenarioDate;}
\DoxyCodeLine{341     \}}
\DoxyCodeLine{342 }
\DoxyCodeLine{343 \textcolor{keyword}{protected}:}
\DoxyCodeLine{344 }
\DoxyCodeLine{348     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a61a9d28e8edc27f87c3b61e28bef8344}{getGeneralConfigurationFromTask}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_e_p_i_c_1_1_monte_carlo_task}{MonteCarloTask}} \&task) \{}
\DoxyCodeLine{349 }
\DoxyCodeLine{350         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a270361cfb1c499912f0d1b348522d785}{m\_generalConfiguration}} = \mbox{\hyperlink{class_e_p_i_c_1_1_general_configuration_a7b9590f4a4389647f46bae2b488ef5d2}{GeneralConfiguration::fromTask}}(task);}
\DoxyCodeLine{351 }
\DoxyCodeLine{352         info(\_\_func\_\_,}
\DoxyCodeLine{353                 ElemUtils::Formatter() << \textcolor{stringliteral}{"{}General configuration:\(\backslash\)n"{}}}
\DoxyCodeLine{354                         << \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a270361cfb1c499912f0d1b348522d785}{m\_generalConfiguration}}.toString());}
\DoxyCodeLine{355     \}}
\DoxyCodeLine{356 }
\DoxyCodeLine{360     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_ad030d64e93c783c94aa38d55b58c8b8b}{getAdditionalGeneralConfigurationFromTask}}(}
\DoxyCodeLine{361             \textcolor{keyword}{const} \mbox{\hyperlink{class_e_p_i_c_1_1_monte_carlo_task}{MonteCarloTask}} \&task) = 0;}
\DoxyCodeLine{362 }
\DoxyCodeLine{366     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a897a5c66c3d2aad34a211c9f413bc0e9}{getExperimentalConditionsFromTask}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_e_p_i_c_1_1_monte_carlo_task}{MonteCarloTask}} \&task) \{}
\DoxyCodeLine{367 }
\DoxyCodeLine{368         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aac4cb487af2b229007929ff59756ae2c}{m\_experimentalConditions}} = \mbox{\hyperlink{class_e_p_i_c_1_1_experimental_conditions_a76ecbbda795c3a3237c5e7b9a2be0e47}{ExperimentalConditions::fromTask}}(task);}
\DoxyCodeLine{369 }
\DoxyCodeLine{370         info(\_\_func\_\_,}
\DoxyCodeLine{371                 ElemUtils::Formatter() << \textcolor{stringliteral}{"{}Experimental conditions:\(\backslash\)n"{}}}
\DoxyCodeLine{372                         << \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aac4cb487af2b229007929ff59756ae2c}{m\_experimentalConditions}}.toString());}
\DoxyCodeLine{373     \}}
\DoxyCodeLine{374 }
\DoxyCodeLine{378     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a99e1741c3c9c28fe9951a169dbb60e3c}{getKinematicRangesFromTask}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_e_p_i_c_1_1_monte_carlo_task}{MonteCarloTask}} \&task) = 0;}
\DoxyCodeLine{379 }
\DoxyCodeLine{383     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a8f0bb968f1a0dbf7200e9e40aacb9e74}{getProcessModuleFromTask}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_e_p_i_c_1_1_monte_carlo_task}{MonteCarloTask}} \&task) = 0;}
\DoxyCodeLine{384 }
\DoxyCodeLine{388     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_ad1d0943b7f4074db2495daa281744f60}{getEventGeneratorModuleFromTask}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_e_p_i_c_1_1_monte_carlo_task}{MonteCarloTask}} \&task) \{}
\DoxyCodeLine{389 }
\DoxyCodeLine{390         \textcolor{comment}{// check if available}}
\DoxyCodeLine{391         \textcolor{keywordflow}{if} (ElemUtils::StringUtils::equals(}
\DoxyCodeLine{392                 task.\mbox{\hyperlink{class_e_p_i_c_1_1_monte_carlo_task_a869f6234f9ca25eef859ef5d3d0ef35c}{getGeneratorConfiguration}}().getModuleType(),}
\DoxyCodeLine{393                 \mbox{\hyperlink{class_e_p_i_c_1_1_event_generator_module_a6a5739f5f9a465f9b99fd8d2eedb92eb}{EventGeneratorModule::EVENT\_GENERATOR\_MODULE\_CLASS\_NAME}})) \{}
\DoxyCodeLine{394 }
\DoxyCodeLine{395             \textcolor{comment}{// configure}}
\DoxyCodeLine{396             \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a9143ff548a6a3a91ba43a6878214c311}{m\_pEventGeneratorModule}} =}
\DoxyCodeLine{397                     \mbox{\hyperlink{class_e_p_i_c_1_1_epic_aee434d279b13aad381d2ba07d0504d89}{Epic::getInstance}}()-\/>\mbox{\hyperlink{class_e_p_i_c_1_1_epic_aafba8caa1658a3683544d9c2fe7d1118}{getModuleObjectFactory}}()-\/>\mbox{\hyperlink{class_e_p_i_c_1_1_module_object_factory_aacbd52c41786ef315c714ee08fba2076}{newEventGeneratorModule}}(}
\DoxyCodeLine{398                             task.\mbox{\hyperlink{class_e_p_i_c_1_1_monte_carlo_task_a869f6234f9ca25eef859ef5d3d0ef35c}{getGeneratorConfiguration}}().getModuleClassName());}
\DoxyCodeLine{399 }
\DoxyCodeLine{400             \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a9143ff548a6a3a91ba43a6878214c311}{m\_pEventGeneratorModule}}-\/>configure(}
\DoxyCodeLine{401                     task.\mbox{\hyperlink{class_e_p_i_c_1_1_monte_carlo_task_a869f6234f9ca25eef859ef5d3d0ef35c}{getGeneratorConfiguration}}().getParameters());}
\DoxyCodeLine{402 }
\DoxyCodeLine{403             \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a9143ff548a6a3a91ba43a6878214c311}{m\_pEventGeneratorModule}}-\/>prepareSubModules(}
\DoxyCodeLine{404                     task.\mbox{\hyperlink{class_e_p_i_c_1_1_monte_carlo_task_a869f6234f9ca25eef859ef5d3d0ef35c}{getGeneratorConfiguration}}().getSubModules());}
\DoxyCodeLine{405         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{406             \textcolor{keywordflow}{throw} ElemUtils::CustomException(getClassName(), \_\_func\_\_,}
\DoxyCodeLine{407                     ElemUtils::Formatter() << \textcolor{stringliteral}{"{}You have not provided any "{}}}
\DoxyCodeLine{408                             << \mbox{\hyperlink{class_e_p_i_c_1_1_event_generator_module_a6a5739f5f9a465f9b99fd8d2eedb92eb}{EventGeneratorModule::EVENT\_GENERATOR\_MODULE\_CLASS\_NAME}});}
\DoxyCodeLine{409         \}}
\DoxyCodeLine{410 }
\DoxyCodeLine{411         info(\_\_func\_\_,}
\DoxyCodeLine{412                 ElemUtils::Formatter() << \textcolor{stringliteral}{"{}Event generator module: "{}}}
\DoxyCodeLine{413                         << \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a9143ff548a6a3a91ba43a6878214c311}{m\_pEventGeneratorModule}}-\/>toString());}
\DoxyCodeLine{414     \}}
\DoxyCodeLine{415 }
\DoxyCodeLine{419     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_ab51031db717e218467996e5cb0162530}{getKinematicModuleFromTask}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_e_p_i_c_1_1_monte_carlo_task}{MonteCarloTask}} \&task) = 0;}
\DoxyCodeLine{420 }
\DoxyCodeLine{424     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_ab6906406a76a2156e4f5466ce04a8100}{getRCModuleFromTask}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_e_p_i_c_1_1_monte_carlo_task}{MonteCarloTask}} \&task) = 0;}
\DoxyCodeLine{425 }
\DoxyCodeLine{429     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a5a64afcd9e6ce6cad8b7f1431f305673}{getWriterModuleFromTask}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_e_p_i_c_1_1_monte_carlo_task}{MonteCarloTask}} \&task) \{}
\DoxyCodeLine{430 }
\DoxyCodeLine{431         \textcolor{comment}{// check if available}}
\DoxyCodeLine{432         \textcolor{keywordflow}{if} (ElemUtils::StringUtils::equals(}
\DoxyCodeLine{433                 task.\mbox{\hyperlink{class_e_p_i_c_1_1_monte_carlo_task_a1dc6bc9d50ef963a588de219200b62a2}{getWriterConfiguration}}().getModuleType(),}
\DoxyCodeLine{434                 \mbox{\hyperlink{class_e_p_i_c_1_1_writer_module_a02a0438ccab7583a828d736baae733b9}{WriterModule::WRITER\_MODULE\_CLASS\_NAME}})) \{}
\DoxyCodeLine{435 }
\DoxyCodeLine{436             \textcolor{comment}{// configure}}
\DoxyCodeLine{437             \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a5a43a2475f3655ecbd3a892a5a65d58f}{m\_pWriterModule}} =}
\DoxyCodeLine{438                     \mbox{\hyperlink{class_e_p_i_c_1_1_epic_aee434d279b13aad381d2ba07d0504d89}{Epic::getInstance}}()-\/>\mbox{\hyperlink{class_e_p_i_c_1_1_epic_aafba8caa1658a3683544d9c2fe7d1118}{getModuleObjectFactory}}()-\/>\mbox{\hyperlink{class_e_p_i_c_1_1_module_object_factory_a489d1ef965e5d7f5349df3f08115ec46}{newWriterModule}}(}
\DoxyCodeLine{439                             task.\mbox{\hyperlink{class_e_p_i_c_1_1_monte_carlo_task_a1dc6bc9d50ef963a588de219200b62a2}{getWriterConfiguration}}().getModuleClassName());}
\DoxyCodeLine{440 }
\DoxyCodeLine{441             \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a5a43a2475f3655ecbd3a892a5a65d58f}{m\_pWriterModule}}-\/>configure(}
\DoxyCodeLine{442                     task.\mbox{\hyperlink{class_e_p_i_c_1_1_monte_carlo_task_a1dc6bc9d50ef963a588de219200b62a2}{getWriterConfiguration}}().getParameters());}
\DoxyCodeLine{443 }
\DoxyCodeLine{444             \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a5a43a2475f3655ecbd3a892a5a65d58f}{m\_pWriterModule}}-\/>prepareSubModules(}
\DoxyCodeLine{445                     task.\mbox{\hyperlink{class_e_p_i_c_1_1_monte_carlo_task_a1dc6bc9d50ef963a588de219200b62a2}{getWriterConfiguration}}().getSubModules());}
\DoxyCodeLine{446         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{447             \textcolor{keywordflow}{throw} ElemUtils::CustomException(getClassName(), \_\_func\_\_,}
\DoxyCodeLine{448                     ElemUtils::Formatter() << \textcolor{stringliteral}{"{}You have not provided any "{}}}
\DoxyCodeLine{449                             << \mbox{\hyperlink{class_e_p_i_c_1_1_writer_module_a02a0438ccab7583a828d736baae733b9}{WriterModule::WRITER\_MODULE\_CLASS\_NAME}});}
\DoxyCodeLine{450         \}}
\DoxyCodeLine{451 }
\DoxyCodeLine{452         info(\_\_func\_\_,}
\DoxyCodeLine{453                 ElemUtils::Formatter() << \textcolor{stringliteral}{"{}Writer module: "{}}}
\DoxyCodeLine{454                         << \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a5a43a2475f3655ecbd3a892a5a65d58f}{m\_pWriterModule}}-\/>toString());}
\DoxyCodeLine{455     \}}
\DoxyCodeLine{456 }
\DoxyCodeLine{460     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a73048b2b68648612fb95177425e2827a}{isServiceWellConfigured}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{461 }
\DoxyCodeLine{462         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a92f142b5b05f64e1bf87c20c6c5acafb}{m\_pProcessModule}} == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{463             \textcolor{keywordflow}{throw} ElemUtils::CustomException(getClassName(), \_\_func\_\_,}
\DoxyCodeLine{464                     \textcolor{stringliteral}{"{}Pointer to process module in null"{}});}
\DoxyCodeLine{465         \}}
\DoxyCodeLine{466 }
\DoxyCodeLine{467         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aacb4f5d3d39f33616fc0143b78b7f482}{m\_pKinematicModule}} == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{468             \textcolor{keywordflow}{throw} ElemUtils::CustomException(getClassName(), \_\_func\_\_,}
\DoxyCodeLine{469                     \textcolor{stringliteral}{"{}Pointer to kineamtic module in null"{}});}
\DoxyCodeLine{470         \}}
\DoxyCodeLine{471 }
\DoxyCodeLine{472         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aa7c8dfacd445e7f2e7a6a3a04e10b37e}{m\_pRCModule}} == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{473             \textcolor{keywordflow}{throw} ElemUtils::CustomException(getClassName(), \_\_func\_\_,}
\DoxyCodeLine{474                     \textcolor{stringliteral}{"{}Pointer to radiative correction module in null"{}});}
\DoxyCodeLine{475         \}}
\DoxyCodeLine{476 }
\DoxyCodeLine{477         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a9143ff548a6a3a91ba43a6878214c311}{m\_pEventGeneratorModule}} == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{478             \textcolor{keywordflow}{throw} ElemUtils::CustomException(getClassName(), \_\_func\_\_,}
\DoxyCodeLine{479                     \textcolor{stringliteral}{"{}Pointer to event generator module in null"{}});}
\DoxyCodeLine{480         \}}
\DoxyCodeLine{481 }
\DoxyCodeLine{482         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a5a43a2475f3655ecbd3a892a5a65d58f}{m\_pWriterModule}} == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{483             \textcolor{keywordflow}{throw} ElemUtils::CustomException(getClassName(), \_\_func\_\_,}
\DoxyCodeLine{484                     \textcolor{stringliteral}{"{}Pointer to writer module in null"{}});}
\DoxyCodeLine{485         \}}
\DoxyCodeLine{486 }
\DoxyCodeLine{487         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a270361cfb1c499912f0d1b348522d785}{m\_generalConfiguration}}.\mbox{\hyperlink{class_e_p_i_c_1_1_general_configuration_a8585b9978ce7762b4d7028676fe9c22c}{getNEvents}}() == 0) \{}
\DoxyCodeLine{488             \textcolor{keywordflow}{throw} ElemUtils::CustomException(getClassName(), \_\_func\_\_,}
\DoxyCodeLine{489                     \textcolor{stringliteral}{"{}Number of events to be generated is: 0"{}});}
\DoxyCodeLine{490         \}}
\DoxyCodeLine{491     \}}
\DoxyCodeLine{492 }
\DoxyCodeLine{496     std::string \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a8e05f767f64e96453ab0e8b1150fbcb1}{getCurrentDate}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{497 }
\DoxyCodeLine{498         time\_t now = time(0);}
\DoxyCodeLine{499         \textcolor{keywordflow}{return} std::string(ctime(\&now));}
\DoxyCodeLine{500     \}}
\DoxyCodeLine{501 }
\DoxyCodeLine{505     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aee62a2819128a0d7f2907b4dbb00a712}{checkTargetPolarisation}}(}
\DoxyCodeLine{506             \mbox{\hyperlink{class_e_p_i_c_1_1_experimental_conditions}{ExperimentalConditions}}\& experimentalConditions)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{507 }
\DoxyCodeLine{508         \textcolor{comment}{//get}}
\DoxyCodeLine{509         \textcolor{keyword}{const} NumA::Vector3D\& currentHadronPolarisation =}
\DoxyCodeLine{510                 experimentalConditions.\mbox{\hyperlink{class_e_p_i_c_1_1_experimental_conditions_ac379ce97c7471d9d1fda63569492c6b2}{getHadronPolarisation}}();}
\DoxyCodeLine{511 }
\DoxyCodeLine{512         \textcolor{comment}{//check}}
\DoxyCodeLine{513         \textcolor{keywordflow}{if} (fabs(currentHadronPolarisation.getX()) == 1.}
\DoxyCodeLine{514                 || fabs(currentHadronPolarisation.getY()) == 1.}
\DoxyCodeLine{515                 || fabs(currentHadronPolarisation.getZ()) == 1.)}
\DoxyCodeLine{516             \textcolor{keywordflow}{return};}
\DoxyCodeLine{517 }
\DoxyCodeLine{518         \textcolor{comment}{//generate}}
\DoxyCodeLine{519         \textcolor{keywordtype}{double} cosThetaPol = \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_af349146ccb69d9d3d63cd3359afdcd41}{m\_randomNumberModule}}-\/>diceFlat(-\/1., 1.);}
\DoxyCodeLine{520         \textcolor{keywordtype}{double} thetaPol = acos(cosThetaPol);}
\DoxyCodeLine{521         \textcolor{keywordtype}{double} phiPol = \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_af349146ccb69d9d3d63cd3359afdcd41}{m\_randomNumberModule}}-\/>diceFlat(0., 2 * M\_PI);}
\DoxyCodeLine{522 }
\DoxyCodeLine{523         \textcolor{comment}{//set}}
\DoxyCodeLine{524         experimentalConditions.\mbox{\hyperlink{class_e_p_i_c_1_1_experimental_conditions_a0dc75d6f472b80d88d27a062dc455852}{setHadronPolarisation}}(}
\DoxyCodeLine{525                 NumA::Vector3D(sin(thetaPol) * cos(phiPol),}
\DoxyCodeLine{526                         sin(thetaPol) * sin(phiPol), cos(thetaPol)));}
\DoxyCodeLine{527     \}}
\DoxyCodeLine{528 }
\DoxyCodeLine{532     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_afc73e1bd0785efa7a70d122a034f4606}{transformVariables}}(std::vector<double>\& variables) \textcolor{keyword}{const} = 0;  }
\DoxyCodeLine{533 }
\DoxyCodeLine{537     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a2b4e2e11f311fc53aae3ac4c49d8eca9}{transformRanges}}(std::vector<KinematicRange>\& ranges) \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{538 }
\DoxyCodeLine{542     \textcolor{keyword}{virtual} \textcolor{keywordtype}{double} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aa116f2e801d4f4f37c784f6a9f3c0396}{getJacobian}}(\textcolor{keyword}{const} std::vector<double>\& variables) \textcolor{keyword}{const} = 0; }
\DoxyCodeLine{543 }
\DoxyCodeLine{547     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a5fd4ede29e72ea090c43051c744996f2}{openHistogramFile}}() \{}
\DoxyCodeLine{548 }
\DoxyCodeLine{549         \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a69169bfa9dc615b3db64d45483fa3ab4}{m\_histogramFile}} = TFile::Open(}
\DoxyCodeLine{550                 \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a270361cfb1c499912f0d1b348522d785}{m\_generalConfiguration}}.\mbox{\hyperlink{class_e_p_i_c_1_1_general_configuration_a825b37e63ff5550e1bc6b3b43756c66a}{getHistogramFilePath}}().c\_str(),}
\DoxyCodeLine{551                 \textcolor{stringliteral}{"{}RECREATE"{}}, \textcolor{stringliteral}{"{}EpIC debugging histograms"{}});}
\DoxyCodeLine{552 }
\DoxyCodeLine{553         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a69169bfa9dc615b3db64d45483fa3ab4}{m\_histogramFile}}-\/>IsOpen()) \{}
\DoxyCodeLine{554             info(\_\_func\_\_,}
\DoxyCodeLine{555                     ElemUtils::Formatter()}
\DoxyCodeLine{556                             << \textcolor{stringliteral}{"{}Histogram file created successfully: "{}}}
\DoxyCodeLine{557                             << \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a270361cfb1c499912f0d1b348522d785}{m\_generalConfiguration}}.\mbox{\hyperlink{class_e_p_i_c_1_1_general_configuration_a825b37e63ff5550e1bc6b3b43756c66a}{getHistogramFilePath}}());}
\DoxyCodeLine{558 }
\DoxyCodeLine{559             \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a4077a9d054be0559c906f74dc2330876}{bookHistograms}}();}
\DoxyCodeLine{560         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{561             warn(\_\_func\_\_,}
\DoxyCodeLine{562                     ElemUtils::Formatter()}
\DoxyCodeLine{563                             << \textcolor{stringliteral}{"{}Failed to create histogram file: "{}}}
\DoxyCodeLine{564                             << \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a270361cfb1c499912f0d1b348522d785}{m\_generalConfiguration}}.\mbox{\hyperlink{class_e_p_i_c_1_1_general_configuration_a825b37e63ff5550e1bc6b3b43756c66a}{getHistogramFilePath}}());}
\DoxyCodeLine{565         \}}
\DoxyCodeLine{566     \}}
\DoxyCodeLine{567 }
\DoxyCodeLine{571     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a4077a9d054be0559c906f74dc2330876}{bookHistograms}}() \{}
\DoxyCodeLine{572     \}}
\DoxyCodeLine{573 }
\DoxyCodeLine{577     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_afde43d52eb827364d87b4653f5ab97e3}{closeHistogramFile}}() \{}
\DoxyCodeLine{578 }
\DoxyCodeLine{579         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a69169bfa9dc615b3db64d45483fa3ab4}{m\_histogramFile}}-\/>IsOpen()) \{}
\DoxyCodeLine{580 }
\DoxyCodeLine{581             std::vector<TH1*>::const\_iterator it;}
\DoxyCodeLine{582 }
\DoxyCodeLine{583             \textcolor{keywordflow}{for} (it = m\_histograms.begin(); it != m\_histograms.end(); it++) \{}
\DoxyCodeLine{584                 \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a69169bfa9dc615b3db64d45483fa3ab4}{m\_histogramFile}}-\/>WriteTObject(*it);}
\DoxyCodeLine{585             \}}
\DoxyCodeLine{586 }
\DoxyCodeLine{587             \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a69169bfa9dc615b3db64d45483fa3ab4}{m\_histogramFile}}-\/>Close();}
\DoxyCodeLine{588 }
\DoxyCodeLine{589             info(\_\_func\_\_,}
\DoxyCodeLine{590                     ElemUtils::Formatter() << \textcolor{stringliteral}{"{}Histogram file closed after saving "{}}}
\DoxyCodeLine{591                             << m\_histograms.size() << \textcolor{stringliteral}{"{} histograms"{}});}
\DoxyCodeLine{592         \}}
\DoxyCodeLine{593     \}}
\DoxyCodeLine{594 }
\DoxyCodeLine{595     kinRange \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a72ca66df13cdbda2486e19ddc2539d74}{m\_kinematicRanges}};                    }
\DoxyCodeLine{596     procModule *\mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a92f142b5b05f64e1bf87c20c6c5acafb}{m\_pProcessModule}};                  }
\DoxyCodeLine{597     std::shared\_ptr<kinModule> \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aacb4f5d3d39f33616fc0143b78b7f482}{m\_pKinematicModule}}; }
\DoxyCodeLine{598     std::shared\_ptr<rcModule> \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aa7c8dfacd445e7f2e7a6a3a04e10b37e}{m\_pRCModule}}; }
\DoxyCodeLine{599 }
\DoxyCodeLine{600     \mbox{\hyperlink{class_e_p_i_c_1_1_general_configuration}{GeneralConfiguration}} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a270361cfb1c499912f0d1b348522d785}{m\_generalConfiguration}};     }
\DoxyCodeLine{601     \mbox{\hyperlink{class_e_p_i_c_1_1_experimental_conditions}{ExperimentalConditions}} \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_aac4cb487af2b229007929ff59756ae2c}{m\_experimentalConditions}}; }
\DoxyCodeLine{602     std::shared\_ptr<EventGeneratorModule> \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a9143ff548a6a3a91ba43a6878214c311}{m\_pEventGeneratorModule}}; }
\DoxyCodeLine{603     std::shared\_ptr<WriterModule> \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a5a43a2475f3655ecbd3a892a5a65d58f}{m\_pWriterModule}}; }
\DoxyCodeLine{604 }
\DoxyCodeLine{605     std::string \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_adf0e6c2c821a4d61fd8a28803bce913b}{m\_scenarioDate}}; }
\DoxyCodeLine{606     std::string \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a8f2084591f5446a4a6337fbae76e7c4e}{m\_scenarioDescription}}; }
\DoxyCodeLine{607 }
\DoxyCodeLine{608     std::pair<std::chrono::steady\_clock::time\_point,}
\DoxyCodeLine{609             std::chrono::steady\_clock::time\_point> \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_ac688443b6e0c243049dfbac439639b83}{m\_debugTimeInitialization}}; }
\DoxyCodeLine{610     std::pair<std::chrono::steady\_clock::time\_point,}
\DoxyCodeLine{611             std::chrono::steady\_clock::time\_point> \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a11b6e7af6bde060c486010675f1092f6}{m\_debugTimeGeneration}}; }
\DoxyCodeLine{612 }
\DoxyCodeLine{613     std::shared\_ptr<RandomNumberModule> \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_af349146ccb69d9d3d63cd3359afdcd41}{m\_randomNumberModule}}; }
\DoxyCodeLine{614 }
\DoxyCodeLine{615     TFile* \mbox{\hyperlink{class_e_p_i_c_1_1_generator_service_a69169bfa9dc615b3db64d45483fa3ab4}{m\_histogramFile}}; }
\DoxyCodeLine{616     std::vector<TH1*> m\_histograms;}
\DoxyCodeLine{617 \};}
\DoxyCodeLine{618 }
\DoxyCodeLine{619 \} \textcolor{comment}{/* namespace EPIC */}}
\DoxyCodeLine{620 }
\DoxyCodeLine{621 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* SERVICES\_GENERATORSERVICE\_H\_ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
